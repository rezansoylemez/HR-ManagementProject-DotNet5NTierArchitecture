@model HumanResources.Core.Entities.Package

@{
    ViewData["Title"] = "BuyPackage";
    Layout = "~/Views/Shared/_CompanyManagerLayout.cshtml";
}

<h1>Paketi Satın Al</h1>
<hr />

<div>
    @if (ViewBag.BuyError != null)
    {
        <div class="alert alert-danger" role="alert">
            @ViewBag.BuyError
        </div>
    }

    <div>

        <hr />
        <div class="card">

            <br />
            <br />

            <div class="row">
                <div class="col-lg-3 col-md-4 label ">&nbsp;&nbsp; @Html.DisplayNameFor(model => model.Name)</div>
                <div class="col-lg-9 col-md-8"> @Html.DisplayFor(model => model.Name)</div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-3 col-md-4 label">&nbsp;&nbsp; @Html.DisplayNameFor(model => model.Description)</div>
                <div class="col-lg-9 col-md-8"> @Html.DisplayFor(model => model.Description)</div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-3 col-md-4 label">&nbsp;&nbsp; @Html.DisplayNameFor(model => model.Cost)</div>
                <div class="col-lg-9 col-md-8"> @Html.DisplayFor(model => model.Cost)</div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-3 col-md-4 label">&nbsp;&nbsp; @Html.DisplayNameFor(model => model.UsageAmount)</div>
                <div class="col-lg-9 col-md-8"> @Html.DisplayFor(model => model.UsageAmount)</div>
            </div>
            <br />
            <form asp-area="CompanyManager" asp-controller="Package" asp-action="BuyPackage" asp-route-id="Id">
                <div class="form-group">
                    <input type="hidden" asp-for="Id" />
                    @if (ViewBag.BuyError != null)
                    {
                        <input type="submit" value="Satın Al" class="btn btn-success" onclick="confirmAction()" />
                    }
                    else
                    {
                        <input type="submit" value="Satın Al" class="btn btn-success" />
                    }
                    <p>
                        <a asp-controller="Wallet" asp-action="CreateBalance" class="btn btn-primary">Yeni Kart Ekle</a>
                    </p>
                </div>
            </form>
            <br /><br />
        </div>
    </div>


</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    }


    <script>
        function confirmAction() {
            let confirmAction = confirm("Paketi satın almak istediğinizden emin misiniz?");
            if (confirmAction) {
                alert("Paket Satın Alındı!");
            } else {
                alert("Satın Alma İptal Edildi!");
            }
        }
    </script>